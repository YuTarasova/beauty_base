# Описание

## Наименование

BeautyBase - база данных сети салонов красоты.

## Предметная область

Веб-приложение предназначено для онлайн записи на приём; ведения учёта оказанных услуг, отработанных часов, принесённой прибыли; управления сотрудниками.

# Данные

### Клиент (client)
* Идентификационный номер (id)
* Имя (first_name)
* Фамилия (last_name) - необязательно.
* Номер телефона (phone)
* Пароль (password_hash)

### Сотрудник (staff)
* Идентификационный номер (id) - [1; 100] бухгалтер, [101; 400] управляющий филиалом, [401; 1000] администратор, более 1000 - мастера (сотрудники, оказывающие сами услуги).
* ID филиала (salon_id)
* Имя (first_name)
* Фамилия (last_name)
* Отчество (fathers_name) - необязательно.
* Номер телефона (phone)
* Пароль (password_hash)

### Тип процедуры (proc_type)
* Идентификационный номер (id)
* Тип процедуры (name)
* Уровень сотрудника (staff_lvl) - необязательно.
* Цена (price)
* Длительность (duration)

### Филиал (salon)
* Идентификационный номер (id)
* ID города (city_id)
* Адрес (address)

### Город (city)
* Идентификационный номер (id)
* Название города (city)
* Часовой пояс (tz)

### Запись (reservation)
* Идентификационный номер (id)
* ID сотрудника (staff_id)
* ID клиента (client_id)
* Дата записи (res_date)
* Время записи (res_st)
* ID процедуры (type_id)
* Статус (status)

### Типы процедур, совершаемые сотрудником (staff_type)
* ID сотрудника (staff_id)
* ID процедуры (type_id)

### График работы (schedule)
* ID сотрудника (staff_id)
* Рабочий день (sch_date)
* Начало (sch_st)
* Конец (sch_end)


Если не указано обратное, поле является обязательным.

## Для каждого элемента данных ограницения

Числа (id, *_id, staff_lvl) - неотрицательные целые числа.

Идентификационные номера (id) - уникальные.

Цены (price) - положительные числа с точностью до 2 знаков после запятой.

Имена (*_name, city) - буквы русского алфавита, '-' и пробел, длиной до 32 символов.

Статус (status) - один из `{ "active", "absent client", "completed", "unpaid", "absent staff", "interrupted", "cancelled", "other issue" }`.

Текст (address, proc_type.name) - буквы русского алфавита, цифры и символы `{ ',', '.', '-', ' ', '/', '+' }`, длиной до 50 символов.

Номер телефона (phone) - 11-ти значное беззнаковое число.

Пароль (password) - английские буквы, цифры и символы `{ '@', '#', '$', '%', '^', '~', '_' }`, длиной от 6 до 32 символов.

Дата (*_date) - тип данных DATE, корректного формата.

Время (*_st, duration, sch_end) - тип данных TIME, корректного формата.

Часовой пояс (tz) - строка вида 

## Общие ограничения целостности

* Валидация данных - проверка корректности всех полей.
* Ограничения доступа по ролям - определение, какие действия доступны каждой роли.
* В дату date1 есть возможность записаться на даты [date1 + 1 день; date1 + 14 дней].

# Пользовательские роли

### Клиент
* Запись на приём.
* Просмотр активных записей.

### Мастер
* Просмотр собственного расписания.

### Администратор
* Обновление статуса существующей записи.
* Добавление записи.

### Управляющий
* Добавление сотрудников данного филиала.
* Изменение квалификаций мастера данного филиала (staff_type).
* Изменение расписания сотрудников данного филиала.
* Просмотр проблематичных записей, то есть записей со статусом, отличающимся от "completed" и "active".

### Бухгалтер
* Просмотр количества отработанных часов каждого сотрудника в течение выбранного периода.
* Просмотр принесённой прибыли каждым мастером в течение выбранного периода.

# UI / API

WEB страница, созданная с помощью HTML, CSS, JavaScript, Vue js. Backend задействует FastAPI.

# Технологии разработки

## Язык программирования

Python

## СУБД

MySQL

# Тестирование
