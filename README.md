# Описание

## Наименование

BeautyBase - база данных сети салонов красоты.

## Предметная область

Веб-приложение предназначено для онлайн записи на приём; ведения учёта оказанных услуг, отработанных часов, принесённой прибыли; управления сотрудниками.

# Данные

### Клиент (client)
* Идентификационный номер (id)
* Имя (first_name)
* Фамилия (last_name) - необязательно.
* Номер телефона (phone)
* Пароль (password)

### Сотрудник (staff)
* Идентификационный номер (id) - [1; 100] бухгалтер, [101; 400] управляющий филиалом, [401; 1000] администратор, более 1000 - мастера (сотрудники, оказывающие сами услуги).
* ID филиала (salon_id)
* Имя (first_name)
* Фамилия (last_name)
* Отчество (fathers_name) - необязательно.
* Номер телефона (phone)
* Пароль (password)

### Запись (reservation)
* ID сотрудника (staff_id)
* ID клиента (client_id)
* Время записи (start)
* ID процедуры (type_id)
* Статус (status)

### Тип процедуры (type)
* Идентификационный номер (id)
* Тип процедуры (type)
* Уровень сотрудника (staff_level) - необязательно.
* Цена (price)
* Длительность (duration)

### Типы процедур, совершаемые сотрудником (staff_type)
* ID сотрудника (staff_id)
* ID процедуры (type_id)

### График работы (schedule)
* ID сотрудника (staff_id)
* Начало рабочего дня (start)
* Конец (end)

### Филиал (salon)
* Идентификационный номер (id)
* ID города (city_id)
* Адрес (address)

### Город (city)
* Идентификационный номер (id)
* Название города (city)

Если не указано обратное, поле является обязательным.

## Для каждого элемента данных ограницения

Числа (id, *_id, staff_level) - неотрицательные целые числа.

Идентификационные номера (id) - уникальные.

Цены (price) - положительные числа с точностью до 2 знаков после запятой.

Имена (*_name, city) - буквы русского алфавита, '-' и пробел, длиной до 32 символов.

Статус (status) - английские буквы и пробел, длиной до 32 символов. 
Стандартные статусы { "active", "absent client", "completed", "unpaid", "absent staff", "interrupted", "cancelled" }.

Текст (address, type) - буквы русского алфавита, цифры и символы `{ ',', '.', '-', ' ', '/' }`, длиной до 50 символов.

Номер телефона (phone) - корректного формата.

Пароль (password) - английские буквы, цифры и символы `{ '@', '#', '$', '%', '^', '~', '_' }`, длиной от 6 до 32 символов.

Дата и время (start) - DATETIME type, корректного формата.

Время (duration, end) - TIME type, корректного формата.

## Общие ограничения целостности

* Валидация данных - проверка корректности всех полей.
* Ограничения доступа по ролям - определение, какие действия доступны каждой роли.
* В дату date1 есть возможность записаться на даты [date1 + 1 день; date1 + 14 дней].
* В каждом филиале имеются хотя бы один управляющий, один администратор и один мастер.

# Пользовательские роли

### Клиент
* Запись на приём.
* Просмотр активных записей.

### Мастер
* Просмотр собственного расписания.

### Администратор
* Обновление статуса существующей записи.
* Добавление записи.

### Управляющий
* Добавление сотрудников данного филиала.
* Изменение квалификаций мастера данного филиала (staff_type).
* Изменение расписания сотрудников данного филиала.
* Просмотр проблематичных записей, то есть записей со статусом, отличающимся от "completed" и "active".

### Бухгалтер
* Просмотр количества отработанных часов каждого сотрудника в течение выбранного периода.
* Просмотр принесённой прибыли каждым мастером в течение выбранного периода.

# UI / API

WEB страница, созданная с помощью HTML, CSS, JavaScript, Vue js. Backend задействует FastAPI.

# Технологии разработки

## Язык программирования

Python

## СУБД

MySQL

# Тестирование
